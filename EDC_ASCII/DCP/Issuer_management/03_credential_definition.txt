3. Credential Definition (Definición de Credencial)

   ADMIN (CLIENTE)                                  ISSUER SERVICE (SERVIDOR)
   +-----------------------+                        +-----------------------+
   | Management Client     |                        | Issuer Admin API      |
   |                       |  (1) Create Def.       |                       |
   | [Admin Console]       | ---------------------> | [CredentialDef. API]  |
   |                       |   POST /credential-    |                       |
   |                       |   definitions          |  (2) Configuration    |
   |                       |                        | [CredentialDef. Store]|
   |                       |  (3) Success           | (Link Attestations)   |
   |                       | <--------------------- | (Define Mappings)     |
   |                       |   HTTP 200 OK          | (Set Schema/Format)   |
   +-----------------------+                        +-----------------------+


Descripción Técnica:

Este es el paso de integración final. El Administrador define la estructura de una Credencial Verificable (VC), vinculando las fuentes de datos (Atestaciones) con el esquema JSON de la credencial y las reglas de mapeo.

(1) Create Def: El administrador crea una CredentialDefinition,. En el payload define:
    ◦ Format: El formato de salida, ej. VC1_0_JWT.
    ◦ Attestations: Lista de IDs de las definiciones creadas en el paso 13.
    ◦ Mappings: Reglas que asignan columnas de la BBDD (inputs) a campos del JSON-LD de la credencial (outputs, ej. credentialSubject.membershipLevel).

(2) Configuration: La definición se persiste en el CredentialDefinitionStore.

(3) Success: El Issuer ahora "sabe" cómo emitir este tipo de credencial. Cuando llegue una Issuance Request (Diagrama 2), buscará esta definición para saber qué datos consultar y cómo formatearlos.